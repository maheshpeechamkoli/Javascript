
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>

    <style>
        fieldset {
            width: 60%;
            margin: 20px;
        }
    </style>

</head>

<body>
    <fieldset>
        <legend>Toolbar</legend>
        <div>
            Number
            <input type='text' id='number' />
            <input type='button' value='Add To List' onclick="addToList();" />
            <input type='button' value='Clear Display'  onclick="window.clear();"/>
            <input type='button' value='Reset Calculator' onclick="reset();" />

            <br/>
            <input type='button' value='Sum'  onclick="doSum();"/>
            <input type='button' value='Average'  onclick="doAvg();"/>
            <input type='button' value='Find Min'  onclick="doFindMin();"/>

        </div>

    </fieldset>

    <hr/>

    <fieldset>
        <legend>Console</legend>

        <div id='console'>

        </div>

    </fieldset>

    <fieldset>
        <legend>Number List</legend>

        <ul id='numberList'>

        </ul>

        <input type='button' value='refresh list' onclick="refresh();" />
    </fieldset>


    <script>
        var numbers=[];
        var numberList=document.getElementById('numberList');
        var numberBox=document.getElementById('number');
        var console=document.getElementById('console');

        function addToList(){
            
            var number=parseFloat( numberBox.value );

            if(!isNaN(number)){
                numberList.innerHTML+=("<li>"+number+"</li>");
                numbers.push(number);
            }
            else{
                console.innerHTML+=("<p>invalid input </p>");
            }
            
        }

        function doSum(){
            var result=sum();
            console.innerHTML+=("<p>Sum is "+result+" </p>");
        }

        function sum(){
            var result=0;
            for(var i=0;i<numbers.length;i++)
                result+=numbers[i];
            return result;                
        }

        function doAvg(){
            var avg=sum()/numbers.length;
            console.innerHTML+=("<p>Average is "+avg+" </p>");
        }

        function doFindMin(){
            var result=numbers[0];
            for(var i=1;i<numbers.length;i++)
                if(numbers[i]<result)
                    result=numbers[i]

            console.innerHTML+=("<p>Min is "+result+" </p>");
        }
        
        function clear(){
            //console.log('clear is called');
            console.innerHTML='';
            numberList.innerHTML='';
            numberBox.value='';
        }
        var clearUI=clear;
        function reset(){
            console.log("calling clear...");
            clear();
            numbers=[];
        }

        function refresh(){
            
            numberList.innerHTML='';

            for(var i=0;i<numbers.length;i++)
                numberList.innerHTML+=('<li>'+numbers[i]+'</li>');

        }


    </script>
</body>

</html>